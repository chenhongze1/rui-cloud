# RUI Common Modules

## æ¨¡å—ç®€ä»‹

RUIæ¡†æ¶çš„å…¬å…±æ¨¡å—é›†åˆï¼Œæä¾›ä¼ä¸šçº§åº”ç”¨å¼€å‘æ‰€éœ€çš„åŸºç¡€åŠŸèƒ½å’Œé€šç”¨ç»„ä»¶ã€‚é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒæŒ‰éœ€å¼•å…¥ï¼Œé™ä½é¡¹ç›®å¤æ‚åº¦ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚

## æ¶æ„è®¾è®¡

### è®¾è®¡åŸåˆ™
- **æ¨¡å—åŒ–**: åŠŸèƒ½ç‹¬ç«‹ï¼ŒèŒè´£å•ä¸€ï¼Œæ”¯æŒæŒ‰éœ€å¼•å…¥
- **æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„ç¼–ç è§„èŒƒå’Œæ¥å£è®¾è®¡
- **å¯æ‰©å±•**: æ”¯æŒè‡ªå®šä¹‰æ‰©å±•å’Œé…ç½®
- **é«˜æ€§èƒ½**: ä¼˜åŒ–å…³é”®è·¯å¾„ï¼Œæä¾›é«˜æ€§èƒ½å®ç°
- **æ˜“é›†æˆ**: æä¾›è‡ªåŠ¨é…ç½®ï¼Œç®€åŒ–é›†æˆè¿‡ç¨‹

### æŠ€æœ¯æ ˆ
- **JDK**: 21+
- **Spring Boot**: 3.x
- **Spring Cloud**: 2023.x
- **MyBatis-Plus**: 3.5.x
- **Redis**: 7.x
- **MongoDB**: 6.x
- **Nacos**: 3.0

## æ¨¡å—åˆ—è¡¨

### æ ¸å¿ƒæ¨¡å—

#### [rui-common-core](./rui-common-core/README.md)
**æ ¸å¿ƒåŸºç¡€æ¨¡å—**
- åŸºç¡€å®ä½“ç±»å’Œæšä¸¾
- ç»Ÿä¸€å“åº”ç»“æœå°è£…
- åˆ†é¡µå·¥å…·å’Œæ•°æ®è½¬æ¢
- å¸¸ç”¨å·¥å…·ç±»é›†åˆ
- å¼‚å¸¸å®šä¹‰å’Œå¤„ç†

#### [rui-common-config](./rui-common-config/README.md)
**é…ç½®ç®¡ç†æ¨¡å—**
- ç»Ÿä¸€é…ç½®ç®¡ç†
- é…ç½®åŠ å¯†è§£å¯†
- åŠ¨æ€é…ç½®åˆ·æ–°
- é…ç½®éªŒè¯å’Œæ ¡éªŒ
- å¤šç¯å¢ƒé…ç½®æ”¯æŒ

#### [rui-common-web](./rui-common-web/README.md)
**WebåŸºç¡€æ¨¡å—**
- åŸºç¡€æ§åˆ¶å™¨
- å…¨å±€å¼‚å¸¸å¤„ç†
- å‚æ•°éªŒè¯
- è·¨åŸŸé…ç½®
- æ–‡ä»¶ä¸Šä¼ ä¸‹è½½

### æ•°æ®è®¿é—®æ¨¡å—

#### [rui-common-mybatis](./rui-common-mybatis/README.md)
**MyBatis-Pluså¢å¼ºæ¨¡å—**
- MyBatis-Plusé…ç½®
- åŸºç¡€å®ä½“å’Œå®¡è®¡
- è‡ªåŠ¨å¡«å……åŠŸèƒ½
- åˆ†é¡µå·¥å…·
- å¤šç§Ÿæˆ·æ”¯æŒ

#### [rui-common-redis](./rui-common-redis/README.md)
**Redisç¼“å­˜æ¨¡å—**
- Redisé…ç½®å’Œä¼˜åŒ–
- ç¼“å­˜æœåŠ¡å°è£…
- åˆ†å¸ƒå¼é”
- é™æµå™¨
- æ€§èƒ½ç›‘æ§

#### [rui-common-mongo](./rui-common-mongo/README.md)
**MongoDBæ•°æ®åº“æ¨¡å—**
- MongoDBé…ç½®
- åŸºç¡€Repository
- æŸ¥è¯¢æ„å»ºå™¨
- ç´¢å¼•ç®¡ç†
- æ•°æ®è¿ç§»

### å®‰å…¨æ¨¡å—

#### [rui-common-security](./rui-common-security/README.md)
**å®‰å…¨è®¤è¯æ¨¡å—**
- JWTä»¤ç‰Œç®¡ç†
- ç”¨æˆ·è®¤è¯æˆæƒ
- æƒé™æ§åˆ¶
- å®‰å…¨è¿‡æ»¤å™¨
- å¯†ç åŠ å¯†

#### [rui-common-idempotent](./rui-common-idempotent/README.md)
**å¹‚ç­‰æ€§æ§åˆ¶æ¨¡å—**
- æ¥å£å¹‚ç­‰æ€§ä¿è¯
- é‡å¤æäº¤é˜²æŠ¤
- åˆ†å¸ƒå¼å¹‚ç­‰
- è‡ªå®šä¹‰å¹‚ç­‰ç­–ç•¥
- å¹‚ç­‰æ€§ç›‘æ§

### åˆ†å¸ƒå¼æ¨¡å—

#### [rui-common-lock](./rui-common-lock/README.md)
**åˆ†å¸ƒå¼é”æ¨¡å—**
- åŸºäºRedissonçš„åˆ†å¸ƒå¼é”
- å¤šç§é”ç±»å‹æ”¯æŒ
- æ³¨è§£å¼ä½¿ç”¨
- é”ç»­æœŸå’Œé™çº§
- é”ç›‘æ§å‘Šè­¦

#### [rui-common-ratelimit](./rui-common-ratelimit/README.md)
**é™æµæ§åˆ¶æ¨¡å—**
- å¤šç§é™æµç®—æ³•
- åˆ†å¸ƒå¼é™æµ
- æ³¨è§£å¼é™æµ
- åŠ¨æ€é…ç½®
- é™æµç›‘æ§

### æœåŠ¡æ²»ç†æ¨¡å—

#### [rui-common-feign](./rui-common-feign/README.md)
**Feignå®¢æˆ·ç«¯æ¨¡å—**
- Feigné…ç½®å¢å¼º
- è´Ÿè½½å‡è¡¡
- ç†”æ–­é™çº§
- è¯·æ±‚é‡è¯•
- è°ƒç”¨ç›‘æ§

#### [rui-common-mq](./rui-common-mq/README.md)
**æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å—**
- å¤šMQæ”¯æŒ
- æ¶ˆæ¯å‘é€æ¥æ”¶
- äº‹åŠ¡æ¶ˆæ¯
- å»¶æ—¶æ¶ˆæ¯
- æ­»ä¿¡å¤„ç†

### ç›‘æ§æ¨¡å—

#### [rui-common-log](./rui-common-log/README.md)
**æ—¥å¿—ç®¡ç†æ¨¡å—**
- ç»Ÿä¸€æ—¥å¿—é…ç½®
- ç»“æ„åŒ–æ—¥å¿—
- æ—¥å¿—è„±æ•
- æ“ä½œæ—¥å¿—è®°å½•
- æ—¥å¿—åˆ†æ

#### [rui-common-monitoring](./rui-common-monitoring/README.md)
**ç›‘æ§æŒ‡æ ‡æ¨¡å—**
- åº”ç”¨æ€§èƒ½ç›‘æ§
- è‡ªå®šä¹‰æŒ‡æ ‡
- å¥åº·æ£€æŸ¥
- å‘Šè­¦é€šçŸ¥
- ç›‘æ§å¤§ç›˜

#### [rui-common-tracing](./rui-common-tracing/README.md)
**é“¾è·¯è¿½è¸ªæ¨¡å—**
- åˆ†å¸ƒå¼é“¾è·¯è¿½è¸ª
- è°ƒç”¨é“¾åˆ†æ
- æ€§èƒ½åˆ†æ
- å¼‚å¸¸è¿½è¸ª
- é“¾è·¯å¯è§†åŒ–

## å¿«é€Ÿå¼€å§‹

### 1. æ·»åŠ çˆ¶ä¾èµ–

```xml
<dependency>
    <groupId>com.rui</groupId>
    <artifactId>rui-common</artifactId>
    <version>1.0.0</version>
    <type>pom</type>
    <scope>import</scope>
</dependency>
```

### 2. å¼•å…¥æ‰€éœ€æ¨¡å—

```xml
<!-- æ ¸å¿ƒæ¨¡å—ï¼ˆå¿…éœ€ï¼‰ -->
<dependency>
    <groupId>com.rui</groupId>
    <artifactId>rui-common-core</artifactId>
</dependency>

<!-- Webæ¨¡å— -->
<dependency>
    <groupId>com.rui</groupId>
    <artifactId>rui-common-web</artifactId>
</dependency>

<!-- æ•°æ®åº“æ¨¡å— -->
<dependency>
    <groupId>com.rui</groupId>
    <artifactId>rui-common-mybatis</artifactId>
</dependency>

<!-- ç¼“å­˜æ¨¡å— -->
<dependency>
    <groupId>com.rui</groupId>
    <artifactId>rui-common-redis</artifactId>
</dependency>

<!-- å®‰å…¨æ¨¡å— -->
<dependency>
    <groupId>com.rui</groupId>
    <artifactId>rui-common-security</artifactId>
</dependency>
```

### 3. é…ç½®åº”ç”¨

```yaml
# application.yml
spring:
  application:
    name: rui-demo
  
  # æ•°æ®åº“é…ç½®
  datasource:
    url: jdbc:mysql://localhost:3306/rui_demo
    username: root
    password: password
    driver-class-name: com.mysql.cj.jdbc.Driver
  
  # Redisé…ç½®
  redis:
    host: localhost
    port: 6379
    database: 0

# RUIæ¡†æ¶é…ç½®
rui:
  # æ ¸å¿ƒé…ç½®
  core:
    enabled: true
  
  # å®‰å…¨é…ç½®
  security:
    enabled: true
    jwt:
      secret: your-secret-key
      expire-time: 7200
  
  # é™æµé…ç½®
  rate-limit:
    enabled: true
    default:
      count: 100
      time: 60
```

### 4. å¯ç”¨è‡ªåŠ¨é…ç½®

```java
@SpringBootApplication
@EnableRuiCommon  // å¯ç”¨RUIå…¬å…±æ¨¡å—
public class DemoApplication {
    public static void main(String[] args) {
        SpringApplication.run(DemoApplication.class, args);
    }
}
```

### 5. ä½¿ç”¨ç¤ºä¾‹

```java
@RestController
@RequestMapping("/api")
public class DemoController extends BaseController {
    
    @Autowired
    private RedisService redisService;
    
    @RateLimit(count = 10, time = 60)
    @PostMapping("/demo")
    public R<String> demo(@RequestBody @Valid DemoRequest request) {
        // ä½¿ç”¨Redisç¼“å­˜
        String cacheKey = "demo:" + request.getId();
        String result = redisService.get(cacheKey);
        
        if (result == null) {
            // ä¸šåŠ¡é€»è¾‘å¤„ç†
            result = processDemo(request);
            
            // ç¼“å­˜ç»“æœ
            redisService.set(cacheKey, result, 300);
        }
        
        return R.ok(result);
    }
    
    @DistributedLock(key = "demo:lock:#{#id}")
    @GetMapping("/lock/{id}")
    public R<String> lockDemo(@PathVariable String id) {
        // åˆ†å¸ƒå¼é”ä¿æŠ¤çš„ä¸šåŠ¡é€»è¾‘
        return R.ok("success");
    }
    
    @Idempotent(key = "demo:idempotent:#{#request.orderId}")
    @PostMapping("/order")
    public R<Order> createOrder(@RequestBody OrderRequest request) {
        // å¹‚ç­‰æ€§ä¿æŠ¤çš„è®¢å•åˆ›å»º
        Order order = orderService.create(request);
        return R.ok(order);
    }
}
```

## æ¨¡å—ä¾èµ–å…³ç³»

```
rui-common-core (æ ¸å¿ƒæ¨¡å—)
â”œâ”€â”€ rui-common-config
â”œâ”€â”€ rui-common-web
â”œâ”€â”€ rui-common-mybatis
â”œâ”€â”€ rui-common-redis
â”œâ”€â”€ rui-common-mongo
â”œâ”€â”€ rui-common-security
â”œâ”€â”€ rui-common-idempotent
â”œâ”€â”€ rui-common-lock
â”œâ”€â”€ rui-common-ratelimit
â”œâ”€â”€ rui-common-feign
â”œâ”€â”€ rui-common-mq
â”œâ”€â”€ rui-common-log
â”œâ”€â”€ rui-common-monitoring
â””â”€â”€ rui-common-tracing
```

## æœ€ä½³å®è·µ

### 1. æ¨¡å—é€‰æ‹©
- **æœ€å°åŒ–åŸåˆ™**: åªå¼•å…¥å¿…éœ€çš„æ¨¡å—ï¼Œé¿å…ä¸å¿…è¦çš„ä¾èµ–
- **åŠŸèƒ½å®Œæ•´æ€§**: ç¡®ä¿å¼•å…¥çš„æ¨¡å—èƒ½å¤Ÿæ»¡è¶³ä¸šåŠ¡éœ€æ±‚
- **ç‰ˆæœ¬ä¸€è‡´æ€§**: ä½¿ç”¨ç»Ÿä¸€çš„ç‰ˆæœ¬ç®¡ç†ï¼Œé¿å…ç‰ˆæœ¬å†²çª

### 2. é…ç½®ç®¡ç†
- **ç¯å¢ƒéš”ç¦»**: ä¸åŒç¯å¢ƒä½¿ç”¨ä¸åŒçš„é…ç½®æ–‡ä»¶
- **æ•æ„Ÿä¿¡æ¯**: ä½¿ç”¨é…ç½®åŠ å¯†ä¿æŠ¤æ•æ„Ÿä¿¡æ¯
- **åŠ¨æ€é…ç½®**: åˆ©ç”¨é…ç½®ä¸­å¿ƒå®ç°åŠ¨æ€é…ç½®æ›´æ–°

### 3. æ€§èƒ½ä¼˜åŒ–
- **ç¼“å­˜ç­–ç•¥**: åˆç†ä½¿ç”¨ç¼“å­˜æé«˜æ€§èƒ½
- **è¿æ¥æ± **: é…ç½®åˆé€‚çš„è¿æ¥æ± å‚æ•°
- **ç›‘æ§å‘Šè­¦**: å»ºç«‹å®Œå–„çš„ç›‘æ§å’Œå‘Šè­¦æœºåˆ¶

### 4. å®‰å…¨è€ƒè™‘
- **æƒé™æ§åˆ¶**: å®ç°ç»†ç²’åº¦çš„æƒé™æ§åˆ¶
- **æ•°æ®åŠ å¯†**: å¯¹æ•æ„Ÿæ•°æ®è¿›è¡ŒåŠ å¯†å­˜å‚¨
- **å®‰å…¨å®¡è®¡**: è®°å½•é‡è¦æ“ä½œçš„å®¡è®¡æ—¥å¿—

### 5. å¼€å‘è§„èŒƒ
- **ä»£ç è§„èŒƒ**: éµå¾ªç»Ÿä¸€çš„ä»£ç è§„èŒƒå’Œå‘½åçº¦å®š
- **å¼‚å¸¸å¤„ç†**: ç»Ÿä¸€çš„å¼‚å¸¸å¤„ç†å’Œé”™è¯¯ç å®šä¹‰
- **æ—¥å¿—è§„èŒƒ**: è§„èŒƒçš„æ—¥å¿—è®°å½•å’Œæ ¼å¼

## å‡çº§æŒ‡å—

### ç‰ˆæœ¬å…¼å®¹æ€§
- **å‘åå…¼å®¹**: æ–°ç‰ˆæœ¬ä¿æŒå‘åå…¼å®¹æ€§
- **åºŸå¼ƒé€šçŸ¥**: æå‰é€šçŸ¥åºŸå¼ƒçš„APIå’ŒåŠŸèƒ½
- **è¿ç§»æŒ‡å—**: æä¾›è¯¦ç»†çš„å‡çº§è¿ç§»æŒ‡å—

### å‡çº§æ­¥éª¤
1. **å¤‡ä»½æ•°æ®**: å‡çº§å‰å¤‡ä»½é‡è¦æ•°æ®
2. **æµ‹è¯•éªŒè¯**: åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯æ–°ç‰ˆæœ¬
3. **ç°åº¦å‘å¸ƒ**: é‡‡ç”¨ç°åº¦å‘å¸ƒé™ä½é£é™©
4. **ç›‘æ§è§‚å¯Ÿ**: å‡çº§åå¯†åˆ‡ç›‘æ§ç³»ç»ŸçŠ¶æ€

## æ•…éšœæ’æŸ¥

### å¸¸è§é—®é¢˜
1. **ä¾èµ–å†²çª**: æ£€æŸ¥ä¾èµ–ç‰ˆæœ¬æ˜¯å¦å…¼å®¹
2. **é…ç½®é”™è¯¯**: éªŒè¯é…ç½®æ–‡ä»¶çš„æ­£ç¡®æ€§
3. **ç½‘ç»œé—®é¢˜**: æ£€æŸ¥ç½‘ç»œè¿æ¥å’Œé˜²ç«å¢™è®¾ç½®
4. **èµ„æºä¸è¶³**: æ£€æŸ¥å†…å­˜ã€CPUç­‰èµ„æºä½¿ç”¨æƒ…å†µ

### æ’æŸ¥å·¥å…·
- **æ—¥å¿—åˆ†æ**: æŸ¥çœ‹åº”ç”¨å’Œæ¡†æ¶æ—¥å¿—
- **ç›‘æ§æŒ‡æ ‡**: åˆ†ææ€§èƒ½ç›‘æ§æ•°æ®
- **é“¾è·¯è¿½è¸ª**: ä½¿ç”¨é“¾è·¯è¿½è¸ªå®šä½é—®é¢˜
- **å¥åº·æ£€æŸ¥**: æ£€æŸ¥å„ç»„ä»¶çš„å¥åº·çŠ¶æ€

## ç¤¾åŒºæ”¯æŒ

### æ–‡æ¡£èµ„æº
- **å®˜æ–¹æ–‡æ¡£**: [https://docs.rui-framework.com](https://docs.rui-framework.com)
- **APIæ–‡æ¡£**: [https://api.rui-framework.com](https://api.rui-framework.com)
- **ç¤ºä¾‹é¡¹ç›®**: [https://github.com/rui-framework/examples](https://github.com/rui-framework/examples)

### æŠ€æœ¯æ”¯æŒ
- **GitHub Issues**: [https://github.com/rui-framework/rui-common/issues](https://github.com/rui-framework/rui-common/issues)
- **æŠ€æœ¯è®ºå›**: [https://forum.rui-framework.com](https://forum.rui-framework.com)
- **å¾®ä¿¡ç¾¤**: æ‰«ç åŠ å…¥æŠ€æœ¯äº¤æµç¾¤

### è´¡çŒ®æŒ‡å—
- **ä»£ç è´¡çŒ®**: æ¬¢è¿æäº¤Pull Request
- **é—®é¢˜åé¦ˆ**: åŠæ—¶åé¦ˆä½¿ç”¨ä¸­é‡åˆ°çš„é—®é¢˜
- **æ–‡æ¡£å®Œå–„**: å¸®åŠ©å®Œå–„å’Œç¿»è¯‘æ–‡æ¡£
- **æµ‹è¯•ç”¨ä¾‹**: è´¡çŒ®æµ‹è¯•ç”¨ä¾‹å’Œç¤ºä¾‹ä»£ç 

## ç‰ˆæœ¬ä¿¡æ¯

- **å½“å‰ç‰ˆæœ¬**: 1.0.0
- **å‘å¸ƒæ—¥æœŸ**: 2024-01-01
- **JDKè¦æ±‚**: 21+
- **Spring Boot**: 3.2.x
- **Spring Cloud**: 2023.0.x

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache License 2.0](LICENSE) è®¸å¯è¯ã€‚

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-01-01)
- ğŸ‰ é¦–æ¬¡å‘å¸ƒ
- âœ¨ å®Œæ•´çš„æ¨¡å—åŒ–æ¶æ„
- ğŸš€ æ”¯æŒSpring Boot 3.x
- ğŸ“ å®Œå–„çš„æ–‡æ¡£å’Œç¤ºä¾‹
- ğŸ”§ è‡ªåŠ¨é…ç½®å’Œstarteræ”¯æŒ
- ğŸ›¡ï¸ ä¼ä¸šçº§å®‰å…¨ç‰¹æ€§
- ğŸ“Š å®Œæ•´çš„ç›‘æ§å’Œè¿½è¸ª
- ğŸ”„ åˆ†å¸ƒå¼ç»„ä»¶æ”¯æŒ